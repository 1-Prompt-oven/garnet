<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dev/onboarding" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Onboarding | Garnet</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/docs/dev/onboarding"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Onboarding | Garnet"><meta data-rh="true" name="description" content="Welcome to Garnet!, in this page you will find the main steps to set up your work environment for developing in Garnet."><meta data-rh="true" property="og:description" content="Welcome to Garnet!, in this page you will find the main steps to set up your work environment for developing in Garnet."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/docs/dev/onboarding"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/docs/dev/onboarding" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/docs/dev/onboarding" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Garnet RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Garnet Atom Feed"><link rel="stylesheet" href="/assets/css/styles.2e9e2225.css">
<script src="/assets/js/runtime~main.54e46b66.js" defer="defer"></script>
<script src="/assets/js/main.e172fc4b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/garnet-logo.png" alt="Garnet Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/garnet-logo.png" alt="Garnet Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Garnet</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/Garnet" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs">Welcome</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/features">Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/releases">Releases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/compatibility">Compatibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/welcome/about-us">About Us</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/getting-started">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/benchmarking/overview">Benchmarking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/commands/overview">Commands</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/extensions/transactions">Server Extensions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cluster/overview">Cluster Mode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/dev/onboarding">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/dev/onboarding">Onboarding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/code-structure">Code Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/network">Network Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/processing">Processing Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/garnet-api">Garnet API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/dev/tsavorite/intro">Tsavorite - Storage Layer</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/tsavorite/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/tsavorite/reviv">Revivification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/tsavorite/locking">Locking</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/transactions">Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/custom-commands">Custom Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/cluster">Cluster Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev/contributing">Contributing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://github.com/microsoft/Garnet/releases" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Other Links</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developer Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Onboarding</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Onboarding for Garnet Development</h1>
<p>Welcome to Garnet!, in this page you will find the main steps to set up your work environment for developing in Garnet.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="quick-start--useful-resources">Quick start &amp; useful resources<a href="#quick-start--useful-resources" class="hash-link" aria-label="Direct link to Quick start &amp; useful resources" title="Direct link to Quick start &amp; useful resources">​</a></h2>
<p>For a first contact with Garnet and its capabilities, you can start with <a href="/docs">Welcome to Garnet</a> page.</p>
<p><strong>Additionally the following pages and documentation might be helpful:</strong></p>
<ul>
<li><a href="https://redis.io/docs/reference/protocol-spec/" target="_blank" rel="noopener noreferrer">RESP specification</a></li>
<li><a href="https://redis.io/docs/data-types/" target="_blank" rel="noopener noreferrer">Redis data types</a></li>
<li><a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/" target="_blank" rel="noopener noreferrer">FASTER</a>, which we forked for use in Garnet</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools">Tools<a href="#tools" class="hash-link" aria-label="Direct link to Tools" title="Direct link to Tools">​</a></h3>
<ul>
<li>Visual Studio 2022 (Preview version recommended)</li>
<li>.NET 8.x</li>
<li>Git</li>
<li>Azure Windows VM</li>
<li>Azure Linux VM</li>
<li>redis-cli, interactive RESP client in Linux</li>
<li>Memurai, for using memurai-cli client on Windows, or use redis-cli via WSL</li>
<li>RedisInsight for experimenting with contents of the store</li>
<li>telnet.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-hacking">Start hacking<a href="#start-hacking" class="hash-link" aria-label="Direct link to Start hacking" title="Direct link to Start hacking">​</a></h3>
<ol>
<li>Clone the repository</li>
</ol>
<p>git clone <a href="https://github.com/microsoft/Garnet.git" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/Garnet.git</a></p>
<p>After cloning the repository you can either run the unit tests or run the server and use one of the RESP client suggested in Windows or Linux.</p>
<ol start="2">
<li>Run the tests suite</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dotnet test -c Release -l &quot;console;verbosity=detailed&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>
<p>Run the server</p>
<p>Using a size memory of 4 GB and index size of 64 MB:</p>
<blockquote>
<p>cd <code>&lt;root&gt;</code>/main/GarnetServer/</p>
</blockquote>
<blockquote>
<p>dotnet run -- --logger-level Trace -m 4g -i 64m</p>
</blockquote>
</li>
<li>
<p>Use the Memurai client in Windows to send commands to Garnet. A guide about how to install Memurai on Windows can be found <a href="https://docs.memurai.com/en/installation.html" target="_blank" rel="noopener noreferrer">here</a>.</p>
</li>
<li>
<p>If you are using Linux, you can use the redis-cli tool. Our official supported Linux distribution is Ubuntu.</p>
</li>
<li>
<p>A third option is to install Redis-Insight on Windows. Follow the official guide <a href="https://redis.com/redis-enterprise/redis-insight/#insight-form" target="_blank" rel="noopener noreferrer">here</a>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<ol>
<li>
<p>If you need to use tls in linux follow the guide at:</p>
<p><code>&lt;root&gt;</code>/Garnet/test/testcerts/README.md</p>
</li>
<li>
<p>If you get errors when builing of failed restore use:</p>
<blockquote>
<p>dotnet restore --interactive -s <a href="https://api.nuget.org/v3/index.json" target="_blank" rel="noopener noreferrer">https://api.nuget.org/v3/index.json</a></p>
</blockquote>
</li>
<li>
<p>If you need to run the local device library make sure to have these dependencies:</p>
<blockquote>
<p>sudo apt install -y g++ libaio-dev uuid-dev libtbb-dev</p>
</blockquote>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="garnet-api-development">Garnet API development<a href="#garnet-api-development" class="hash-link" aria-label="Direct link to Garnet API development" title="Direct link to Garnet API development">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-patterns">Code Patterns<a href="#code-patterns" class="hash-link" aria-label="Direct link to Code Patterns" title="Direct link to Code Patterns">​</a></h3>
<p>All requests to the server are either basic RESP commands or array RESP commands. The following shows one example of each of them:</p>
<p>Basic Command: PING
RESP representation:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$4\r\nPING\r\n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Array Command: SET mykey abc</p>
<p>RESP representation:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*3\r\n$3\r\nSET\r\n$5\r\nmykey\r\n$7\r\nabcdefg\r\n</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-concepts">Development concepts<a href="#development-concepts" class="hash-link" aria-label="Direct link to Development concepts" title="Direct link to Development concepts">​</a></h3>
<ul>
<li>
<p>Understanding of the types of memory in C#: Managed Heap, Stack memory, Unmanaged memory, etc.</p>
</li>
<li>
<p>Use of Span and SpanByte</p>
<p><strong>Tsavorite</strong> and <strong>Garnet</strong> rely heavily on these two types for allocating data in memory and then transfer it on the network layer. Understanding and familiarity with both of them will be very helpful for a better understanding of the code in general.</p>
<ul>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/api/system.span-1?view=net-7.0" target="_blank" rel="noopener noreferrer">Documentation about Span</a></p>
</li>
<li>
<p><a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/unsafe-code" target="_blank" rel="noopener noreferrer">Use of pointers and unsafe code</a></p>
</li>
<li>
<p>In the project:</p>
<p>Implementation of SpanByte:</p>
<p><code>&lt;root&gt;</code>\Tsavorite\cs\src\core\VarLen\SpanByte.cs</p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pull-request-protocol">Pull Request protocol<a href="#pull-request-protocol" class="hash-link" aria-label="Direct link to Pull Request protocol" title="Direct link to Pull Request protocol">​</a></h2>
<p>Any new feature, change to existing functionality or bug fixing needs to be done using the following process:</p>
<ol>
<li>
<p>Create a Issue Item on the <a href="https://github.com/microsoft/Garnet" target="_blank" rel="noopener noreferrer">Garnet Project</a>, use the following criteria: Enhancement for new features, Bug for fixes, Task for small improvements or changes.</p>
</li>
<li>
<p>Is a good practice to create your own local branch with the following naming convention:</p>
<p><code>&lt;username&gt;</code>/branch-name</p>
</li>
<li>
<p>Include Unit Tests to test the new commands or feature.</p>
</li>
<li>
<p>Once it is ready for review, create a <a href="https://github.com/microsoft/Garnet/pulls" target="_blank" rel="noopener noreferrer">Pull Request</a>. Make sure to link it to your issue item in the development section.</p>
</li>
<li>
<p>Add one required reviewer and 2 optional reviewers.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="formatting-style-guide">Formatting style guide<a href="#formatting-style-guide" class="hash-link" aria-label="Direct link to Formatting style guide" title="Direct link to Formatting style guide">​</a></h2>
<ul>
<li>
<p>Comments are an important part of the documentation. Make sure your code includes them.</p>
</li>
<li>
<p>The official format for comments is:</p>
<p><code>//&lt;one whitespace&gt; Comment starting with a capital letter</code></p>
<p>Example:</p>
<p><code>// This comment has good formatting </code></p>
</li>
<li>
<p>Methods should have their summary block comment and description for each parameter.</p>
<p>Example:</p>
</li>
</ul>
<div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;summary&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// Iterates the set of keys in the main store.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;/summary&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;patternB&quot;&gt;The pattern to apply for filtering&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;allKeys&quot;&gt;When true the filter is ommited&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;cursor&quot;&gt;The value of the cursor in the command request&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;storeCursor&quot;&gt;Value of the cursor returned&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;Keys&quot;&gt;The list of keys from the stores&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;count&quot;&gt;The size of the batch of keys&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;param name=&quot;type&quot;&gt;Type of key to filter out&lt;/param&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/// &lt;returns&gt;&lt;/returns&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public bool DbScan(ArgSlice patternB, bool allKeys, long cursor, out long storeCursor, out List&lt;byte[]&gt; Keys,  long count = 10, Span&lt;byte&gt; type = default);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>As a good practice, follow the <b>camel case C# naming convention.</b></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure-of-the-garnet-vs-solution">Structure of the Garnet VS solution.<a href="#structure-of-the-garnet-vs-solution" class="hash-link" aria-label="Direct link to Structure of the Garnet VS solution." title="Direct link to Structure of the Garnet VS solution.">​</a></h2>
<p>In the list following list, is described what are the csharp projects in the Ganet VS solution:</p>
<ul>
<li>Embedded.benchmark<!-- -->
<ul>
<li><strong>Description:</strong> A Client/Server benchmark tool to issue RESP commands to Garnet code, while bypassing the network stack. The following are the options available to run it:</li>
</ul>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    --runtime: Run time for the tool in seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --threads: Number of threads (sessions) that will send requests to the embedded RESP Server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --op-workload: Commands to include in the benchmark by default: PING, DBSIZE, CLIENT, ECHO.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --op-percent: Percentage of load to each of the commands executed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --seed: Seed to initialize random pecentange of load generation of commands to run.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --logger-level: Level of logging for error messages: LogLevel.Trace, LogLevel.Debug, LogLevel.Warning, LogLevel.Error.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --disable-console-logger: True if logging is off.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --file-logger: Send the logging to a specific path. </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Resp.benchmark<!-- -->
<ul>
<li><strong>Description:</strong> A benchmark tool to issue RESP commands to Garnet Server.</li>
</ul>
</li>
<li>Tsavorite.core<!-- -->
<ul>
<li><strong>Description:</strong> The Key/Value store libraries.</li>
</ul>
</li>
<li>Garnet.client<!-- -->
<ul>
<li><strong>Description:</strong> A client that can be used with Garnet server with limited functionality.</li>
</ul>
</li>
<li>Garnet.cluster<!-- -->
<ul>
<li><strong>Description:</strong> The Garnet Cluster implementation.</li>
</ul>
</li>
<li>Garnet.common<!-- -->
<ul>
<li><strong>Description:</strong> Network layer implementation and common tools used for requests and responses processing.</li>
</ul>
</li>
<li>Garnet.host<!-- -->
<ul>
<li><strong>Description:</strong> The class that instantiates the Garnet Server.</li>
</ul>
</li>
<li>Garnet.server<!-- -->
<ul>
<li><strong>Description:</strong> All the API for the keys operations, ACL commands, Checkpointing, Metrics, Transactions, Garnet server API, and storage layer implementation with RESP.</li>
</ul>
</li>
<li>GarnetServer<!-- -->
<ul>
<li><strong>Description:</strong> The main program where the Garnet Server is created.</li>
</ul>
</li>
<li>HdrHistogram<!-- -->
<ul>
<li><strong>Description:</strong> Project for creating High Dynamic Range (HDR) Histograms used for graphs of different server metrics.</li>
</ul>
</li>
<li>Bitmap<!-- -->
<ul>
<li><strong>Description:</strong> A project that exercises different bitmaps operations, using Tsavorite.</li>
</ul>
</li>
<li>GarnetClientStress<!-- -->
<ul>
<li><strong>Description:</strong> A project to run stress tests against the GarnetClient library.</li>
</ul>
</li>
<li>GarnetClusterManagement<!-- -->
<ul>
<li><strong>Description:</strong> Project used to run different cluster tests.</li>
</ul>
</li>
<li>HyperLogLog<!-- -->
<ul>
<li><strong>Description:</strong> Project to do different tests to  Hyperloglog implementation in Garnet.</li>
</ul>
</li>
<li>JobQueueExample<!-- -->
<ul>
<li><strong>Description:</strong> A small project that shows how to create a Queue in Garnet server.</li>
</ul>
</li>
<li>MetricsDump<!-- -->
<ul>
<li><strong>Description:</strong> A console application to send metrics to a Prometheus server endpoint, like latency, active connections etc.</li>
</ul>
</li>
<li>TstRunner<!-- -->
<ul>
<li><strong>Description:</strong> Console application to run keys migration commands.</li>
</ul>
</li>
<li>GarnetClientSample<!-- -->
<ul>
<li><strong>Description:</strong> Example of how to use GarnetClient.</li>
</ul>
</li>
<li>MetricsMonitor<!-- -->
<ul>
<li><strong>Description:</strong> Console app to get Latency metrics using StackExchange.Redis.</li>
</ul>
</li>
<li>Garnet.test<!-- -->
<ul>
<li><strong>Description:</strong> Project for Garnet server unit tests, including unit tests of RESP commands.</li>
</ul>
</li>
<li>Garnet.test.cluster<!-- -->
<ul>
<li><strong>Description:</strong> Project for Cluster unit tests.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-benchmark-application">Running the benchmark application<a href="#running-the-benchmark-application" class="hash-link" aria-label="Direct link to Running the benchmark application" title="Direct link to Running the benchmark application">​</a></h2>
<ul>
<li>Refer to the Resp benchmark page for details <a href="/docs/benchmarking/resp-bench">here</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build">Build<a href="#build" class="hash-link" aria-label="Direct link to Build" title="Direct link to Build">​</a></h2>
<ul>
<li>For details refer to the <a href="/docs/getting-started">Build and Test page</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test">Test<a href="#test" class="hash-link" aria-label="Direct link to Test" title="Direct link to Test">​</a></h2>
<p>As a sanity check, you can run the Garnet test suite. The command to run tests in Release mode, for .NET 8, in shown below (make sure you are in the root folder of the repo).</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    dotnet test -c Release -l &quot;console;verbosity=detailed&quot; -f net8.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Tip:</strong> By default, Garnet listens to TCP port 3278, you can use this information to adjust your firewall settings when you need to access from remote machines.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/microsoft/Garnet/tree/main/website/docs/dev/onboarding.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/cluster/key-migration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Key Migration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dev/code-structure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Code Structure</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quick-start--useful-resources" class="table-of-contents__link toc-highlight">Quick start &amp; useful resources</a><ul><li><a href="#tools" class="table-of-contents__link toc-highlight">Tools</a></li><li><a href="#start-hacking" class="table-of-contents__link toc-highlight">Start hacking</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li><li><a href="#garnet-api-development" class="table-of-contents__link toc-highlight">Garnet API development</a><ul><li><a href="#code-patterns" class="table-of-contents__link toc-highlight">Code Patterns</a></li><li><a href="#development-concepts" class="table-of-contents__link toc-highlight">Development concepts</a></li></ul></li><li><a href="#pull-request-protocol" class="table-of-contents__link toc-highlight">Pull Request protocol</a></li><li><a href="#formatting-style-guide" class="table-of-contents__link toc-highlight">Formatting style guide</a></li><li><a href="#structure-of-the-garnet-vs-solution" class="table-of-contents__link toc-highlight">Structure of the Garnet VS solution.</a></li><li><a href="#running-the-benchmark-application" class="table-of-contents__link toc-highlight">Running the benchmark application</a></li><li><a href="#build" class="table-of-contents__link toc-highlight">Build</a></li><li><a href="#test" class="table-of-contents__link toc-highlight">Test</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/Garnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/Garnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Garnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/Garnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><p class="text-center">
          <a href="https://go.microsoft.com/fwlink/?LinkId=521839" style="color: white;">Privacy &amp; Cookies</a> |
          <a href="https://go.microsoft.com/fwlink/?LinkID=206977" style="color: white;">Terms of Use</a> |
          <a href="https://www.microsoft.com/trademarks" style="color: white;">Trademarks</a> | © 2023
          </p></div></div></div></footer></div>
</body>
</html>